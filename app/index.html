<!DOCTYPE html>
<html ng-app="example">
  <head>
    <meta charset="utf-8">
    <title>Lelylan</title>
  </head>
  <body>

    <login class="nav" redirect="http://localhost:3501/"
           client="81e265dbf00569f9ba39dcc0dc0043020cdb4d2030ad77233be7c27aa447977e"
           scope="resources privates"
           site="http://localhost:3000">
    </login>

    <div ng-controller="LelylanController">
      <div ng-show="message">{{message}}</div>
      <div ng-repeat="device in devices">{{device.id}}</div>
    </div>

    <script>
      function LelylanController($scope, Device) {
        var request = Device.query();

        var success = function(response) {
          $scope.devices = response.resource;
        };

        var error = function(error) {
          $scope.message = 'An error has occurred';
        };

        request.$then(success, error);
      }
    </script>

    <script src="scripts/vendor/angular/angular.js"></script>
    <script src="scripts/vendor/angular/angular-resource.js"></script>
    <script src="scripts/vendor/angular/angular-cookies.js"></script>

    <!-- build:js scripts/lelylan.min.js -->
    <script src="scripts/app.js"></script>

    <!-- client models -->
    <script src="scripts/client/activation.js"></script>
    <script src="scripts/client/deactivation.js"></script>
    <script src="scripts/client/device.js"></script>
    <script src="scripts/client/function.js"></script>
    <script src="scripts/client/history.js"></script>
    <script src="scripts/client/location.js"></script>
    <script src="scripts/client/profile.js"></script>
    <script src="scripts/client/property.js"></script>
    <script src="scripts/client/status.js"></script>
    <script src="scripts/client/subscription.js"></script>
    <script src="scripts/client/category.js"></script>
    <script src="scripts/client/type.js"></script>

    <!-- authorization models -->
    <script src="scripts/client/support/logged-user.js"></script>
    <script src="scripts/client/support/basic-auth/basic-request-wrapper.js"></script>
    <script src="scripts/client/support/basic-auth/basic-auth.js"></script>
    <script src="scripts/client/support/oauth2/request-wrapper.js"></script>
    <script src="scripts/client/support/oauth2/access-token.js"></script>
    <script src="scripts/client/support/oauth2/implicit-flow.js"></script>

    <!-- errors -->
    <script src="scripts/interceptors/errors.js"></script>
    <script src="scripts/interceptors/requests.js"></script>

    <!-- config -->
    <script src="scripts/config/config.js"></script>

    <!-- oauth2 components -->
    <script src="scripts/components/login.js"></script>
    <!-- endbuild -->

    <script>
      var example = angular.module('example', ['lelylan']);
      example.value('lelylan.config', { endpoint: 'http:///localhost\\:9000' });
    </script>
  </body>
</html>
